<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="robots" content="noindex,nofollow" />
  <title>DiagnÃ³stico de OcorrÃªncias â€” DIEF/SEFAZ-RR</title>

  <style>
    :root{
      --bg:#f3f7ff;
      --card:#ffffff;
      --card2:#f7faff;
      --text:#0b1b3a;
      --muted:#3c567a;
      --line:rgba(11,27,58,.14);
      --chip:rgba(10,98,190,.08);
      --ok:#16a34a;
      --warn:#f59e0b;
      --bad:#dc2626;
      --info:#0a62be;
      --shadow:0 10px 28px rgba(11,27,58,.12);
      --radius:18px;
      --mono: ui-monospace, Menlo, Consolas, monospace;
      --sans: system-ui, -apple-system, Segoe UI, Roboto, Arial;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:var(--sans);
      background:
        radial-gradient(1100px 700px at 15% -10%, rgba(10,98,190,.18), transparent 60%),
        radial-gradient(900px 600px at 90% 0%, rgba(10,98,190,.10), transparent 60%),
        var(--bg);
      color:var(--text);
    }

    .wrap{ max-width:1100px; margin:0 auto; padding:28px 18px 80px; }

    h1{ font-size:22px; margin:0 0 6px; }
    p{ margin:0; }

    header p{ color:var(--muted); font-size:13px; max-width:900px; }

    /* SEARCH */
    .search{
      display:flex; align-items:center; gap:10px;
      border:1px solid var(--line);
      background:#fff;
      border-radius:999px;
      padding:10px 14px;
      box-shadow:0 6px 18px rgba(11,27,58,.08);
    }
    .search input{
      border:none; outline:none; width:100%;
      font-size:14px; color:var(--text);
    }
    .search input::placeholder{ color:rgba(60,86,122,.7); }
    .search:focus-within{
      border-color:rgba(10,98,190,.45);
      box-shadow:0 0 0 4px rgba(10,98,190,.12);
    }

    /* CHIPS */
    .chips{ display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }
    .chip{
      padding:8px 12px; border-radius:999px;
      border:1px solid var(--line);
      background:#fff;
      cursor:pointer;
      font-size:12px;
      color:var(--muted);
    }
    .chip.active{
      background:rgba(10,98,190,.14);
      border-color:rgba(10,98,190,.4);
      color:var(--text);
    }

    /* CARDS */
    .cards{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
      gap:16px;
      margin-top:20px;
    }
    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:14px;
      box-shadow:var(--shadow);
      cursor:pointer;
    }
    .card h3{ margin:0 0 6px; font-size:14px; }
    .snippet{ font-size:12px; color:var(--muted); margin-top:6px; }

    .badge{
      display:inline-block;
      padding:5px 10px;
      border-radius:999px;
      font-size:11px;
      margin:4px 4px 0 0;
      border:1px solid var(--line);
    }
    .badge.bad{ background:rgba(220,38,38,.12); }
    .badge.warn{ background:rgba(245,158,11,.14); }
    .badge.info{ background:rgba(10,98,190,.14); }

    /* MODAL */
    dialog{
      width:min(960px,calc(100% - 24px));
      border-radius:22px;
      border:1px solid var(--line);
      background:#fff;
      padding:0;
      box-shadow:0 30px 80px rgba(11,27,58,.3);
    }
    dialog::backdrop{
      background:rgba(11,27,58,.28);
      backdrop-filter:blur(3px);
    }

    .modalHead{
      padding:16px;
      border-bottom:1px solid var(--line);
      display:flex; justify-content:space-between; align-items:start;
    }

    .modalBody{
      padding:16px;
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:16px;
    }
    @media(max-width:800px){
      .modalBody{ grid-template-columns:1fr; }
    }

    .panel{
      background:#f7faff;
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:14px;
    }
    .panel h4{
      margin:0 0 8px;
      font-size:12px;
      text-transform:uppercase;
      color:var(--muted);
    }
    .panel ul, .panel ol{
      margin:8px 0 0 18px;
      font-size:13px;
      line-height:1.55;
    }

    .emailBox{
      background:#fff;
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px;
      white-space:pre-wrap;
      font-size:13px;
      line-height:1.55;
    }

    .btn{
      padding:10px 14px;
      border-radius:12px;
      border:1px solid var(--line);
      background:#fff;
      cursor:pointer;
      font-size:12px;
    }
    .btn.primary{
      background:rgba(10,98,190,.14);
      border-color:rgba(10,98,190,.45);
    }
  </style>
</head>

<body>
<div class="wrap">
  <header>
    <h1>DiagnÃ³stico de OcorrÃªncias Recorrentes â€” DIEF/SEFAZ-RR</h1>
    <p>Uso interno. PÃ¡gina para diagnÃ³stico visual e procedimentos padronizados.</p>
  </header>

  <div class="search" style="margin-top:16px;">
    ðŸ”Ž <input id="q" placeholder="Buscar (DARE, DSOT, Simples, agrupamentoâ€¦)" />
  </div>

  <div class="chips" id="chips"></div>

  <div class="cards" id="cards"></div>
</div>

<dialog id="modal">
  <div class="modalHead">
    <h3 id="m_title"></h3>
    <button class="btn" onclick="modal.close()">âœ•</button>
  </div>

  <div class="modalBody">
    <div class="panel">
      <h4>Procedimento</h4>
      <ol id="m_steps"></ol>
    </div>

    <div class="panel">
      <h4>Resposta padrÃ£o (e-mail)</h4>
      <div class="emailBox" id="m_email"></div>
      <div style="margin-top:10px;">
        <button class="btn primary" onclick="copyEmail()">Copiar resposta padrÃ£o</button>
      </div>
    </div>
  </div>
</dialog>

<script>
const PROBLEMS = [
{
  title:"DARE Avulso pago, mas dÃ©bito nÃ£o baixou automaticamente",
  snippet:"Pagamento confirmado, mas sistema/DSOT nÃ£o reflete baixa.",
  steps:[
    "Consultar DSOT e identificar dÃ©bitos em aberto.",
    "Confirmar pagamento do DARE no sistema.",
    "Conferir se o valor foi creditado ao Tesouro.",
    "Anexar comprovantes.",
    "Encaminhar para baixa/ajuste interno."
  ],
  emailTemplate:
`Prezado(a),

Verificamos a existÃªncia de comprovante de pagamento do DARE informado. No entanto, o sistema ainda nÃ£o refletiu automaticamente a baixa do(s) dÃ©bito(s).

Foi aberto procedimento interno para regularizaÃ§Ã£o da pendÃªncia. Orientamos acompanhar a situaÃ§Ã£o apÃ³s a atualizaÃ§Ã£o.

Atenciosamente,

DivisÃ£o de InformaÃ§Ãµes EconÃ´mico-Fiscais - DIEF
Departamento da Receita - DEPAR
Secretaria de Estado da Fazenda de Roraima - SEFAZ/RR`
}
];

const cards = document.getElementById("cards");
const modal = document.getElementById("modal");
let current = null;

PROBLEMS.forEach(p=>{
  const c=document.createElement("div");
  c.className="card";
  c.innerHTML=`<h3>${p.title}</h3><div class="snippet">${p.snippet}</div>`;
  c.onclick=()=>openModal(p);
  cards.appendChild(c);
});

function openModal(p){
  current=p;
  document.getElementById("m_title").textContent=p.title;
  document.getElementById("m_steps").innerHTML=p.steps.map(s=>`<li>${s}</li>`).join("");
  document.getElementById("m_email").textContent=p.emailTemplate;
  modal.showModal();
}

function copyEmail(){
  navigator.clipboard.writeText(current.emailTemplate);
  alert("Resposta copiada!");
}
</script>
</body>
</html>
